{"version":3,"names":["NativeModules","Platform","LINKING_ERROR","select","ios","default","CredentialSharing","Proxy","get","Error","getSharedCredentials","android","iOS","OS","uri","result","service","account","accessGroup","Promise","resolve","accessToken","reject"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\nconst LINKING_ERROR =\n  `The package 'react-native-credential-sharing' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\nconst CredentialSharing = NativeModules.CredentialSharing\n  ? NativeModules.CredentialSharing\n  : new Proxy(\n      {},\n      {\n        get() {\n          throw new Error(LINKING_ERROR);\n        },\n      }\n    );\n\nexport type CredentialResponse = {\n  accessToken: string;\n  id?: string;\n  username?: string;\n  name?: string;\n};\n\nexport async function getSharedCredentials(\n  android?: {\n    uri: string;\n  },\n  iOS?: {\n    service: string;\n    account: string;\n    accessGroup: string;\n  }\n): Promise<CredentialResponse[]> {\n  if (Platform.OS === 'android' && android) {\n    return CredentialSharing.getSharedCredentials(android.uri);\n  } else if (Platform.OS === 'ios' && iOS) {\n    const result = await CredentialSharing.getSharedCredentials(\n      iOS.service,\n      iOS.account,\n      iOS.accessGroup\n    );\n    if (result) {\n      return Promise.resolve([\n        {\n          accessToken: result,\n        },\n      ]);\n    } else {\n      return Promise.resolve([]);\n    }\n  } else {\n    return Promise.reject('Invalid arguments provided - lets check');\n  }\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AAEA,MAAMC,aAAa,GAChB,0FAAD,GACAD,QAAQ,CAACE,MAAT,CAAgB;EAAEC,GAAG,EAAE,gCAAP;EAAyCC,OAAO,EAAE;AAAlD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJF;AAMA,MAAMC,iBAAiB,GAAGN,aAAa,CAACM,iBAAd,GACtBN,aAAa,CAACM,iBADQ,GAEtB,IAAIC,KAAJ,CACE,EADF,EAEE;EACEC,GAAG,GAAG;IACJ,MAAM,IAAIC,KAAJ,CAAUP,aAAV,CAAN;EACD;;AAHH,CAFF,CAFJ;AAkBA,OAAO,eAAeQ,oBAAf,CACLC,OADK,EAILC,GAJK,EAS0B;EAC/B,IAAIX,QAAQ,CAACY,EAAT,KAAgB,SAAhB,IAA6BF,OAAjC,EAA0C;IACxC,OAAOL,iBAAiB,CAACI,oBAAlB,CAAuCC,OAAO,CAACG,GAA/C,CAAP;EACD,CAFD,MAEO,IAAIb,QAAQ,CAACY,EAAT,KAAgB,KAAhB,IAAyBD,GAA7B,EAAkC;IACvC,MAAMG,MAAM,GAAG,MAAMT,iBAAiB,CAACI,oBAAlB,CACnBE,GAAG,CAACI,OADe,EAEnBJ,GAAG,CAACK,OAFe,EAGnBL,GAAG,CAACM,WAHe,CAArB;;IAKA,IAAIH,MAAJ,EAAY;MACV,OAAOI,OAAO,CAACC,OAAR,CAAgB,CACrB;QACEC,WAAW,EAAEN;MADf,CADqB,CAAhB,CAAP;IAKD,CAND,MAMO;MACL,OAAOI,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;IACD;EACF,CAfM,MAeA;IACL,OAAOD,OAAO,CAACG,MAAR,CAAe,yCAAf,CAAP;EACD;AACF"}
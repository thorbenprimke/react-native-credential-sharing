{"version":3,"names":["LINKING_ERROR","Platform","select","ios","default","CredentialSharing","NativeModules","Proxy","get","Error","getSharedCredentials","android","iOS","OS","uri","result","service","account","accessGroup","Promise","resolve","accessToken","reject"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\nconst LINKING_ERROR =\n  `The package 'react-native-credential-sharing' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\nconst CredentialSharing = NativeModules.CredentialSharing\n  ? NativeModules.CredentialSharing\n  : new Proxy(\n      {},\n      {\n        get() {\n          throw new Error(LINKING_ERROR);\n        },\n      }\n    );\n\nexport type CredentialResponse = {\n  accessToken: string;\n  id?: string;\n  username?: string;\n  name?: string;\n};\n\nexport async function getSharedCredentials(\n  android?: {\n    uri: string;\n  },\n  iOS?: {\n    service: string;\n    account: string;\n    accessGroup: string;\n  }\n): Promise<CredentialResponse[]> {\n  if (Platform.OS === 'android' && android) {\n    return CredentialSharing.getSharedCredentials(android.uri);\n  } else if (Platform.OS === 'ios' && iOS) {\n    const result = await CredentialSharing.getSharedCredentials(\n      iOS.service,\n      iOS.account,\n      iOS.accessGroup\n    );\n    if (result) {\n      return Promise.resolve([\n        {\n          accessToken: result,\n        },\n      ]);\n    } else {\n      return Promise.resolve([]);\n    }\n  } else {\n    return Promise.reject('Invalid arguments provided - lets check');\n  }\n}\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAChB,0FAAD,GACAC,sBAASC,MAAT,CAAgB;EAAEC,GAAG,EAAE,gCAAP;EAAyCC,OAAO,EAAE;AAAlD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJF;AAMA,MAAMC,iBAAiB,GAAGC,2BAAcD,iBAAd,GACtBC,2BAAcD,iBADQ,GAEtB,IAAIE,KAAJ,CACE,EADF,EAEE;EACEC,GAAG,GAAG;IACJ,MAAM,IAAIC,KAAJ,CAAUT,aAAV,CAAN;EACD;;AAHH,CAFF,CAFJ;;AAkBO,eAAeU,oBAAf,CACLC,OADK,EAILC,GAJK,EAS0B;EAC/B,IAAIX,sBAASY,EAAT,KAAgB,SAAhB,IAA6BF,OAAjC,EAA0C;IACxC,OAAON,iBAAiB,CAACK,oBAAlB,CAAuCC,OAAO,CAACG,GAA/C,CAAP;EACD,CAFD,MAEO,IAAIb,sBAASY,EAAT,KAAgB,KAAhB,IAAyBD,GAA7B,EAAkC;IACvC,MAAMG,MAAM,GAAG,MAAMV,iBAAiB,CAACK,oBAAlB,CACnBE,GAAG,CAACI,OADe,EAEnBJ,GAAG,CAACK,OAFe,EAGnBL,GAAG,CAACM,WAHe,CAArB;;IAKA,IAAIH,MAAJ,EAAY;MACV,OAAOI,OAAO,CAACC,OAAR,CAAgB,CACrB;QACEC,WAAW,EAAEN;MADf,CADqB,CAAhB,CAAP;IAKD,CAND,MAMO;MACL,OAAOI,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;IACD;EACF,CAfM,MAeA;IACL,OAAOD,OAAO,CAACG,MAAR,CAAe,yCAAf,CAAP;EACD;AACF"}